!function(a){"use strict";function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b){this.el=a,this.animEffectsOut=["moveUpOut","moveDownOut","slideUpOut","slideDownOut","slideLeftOut","slideRightOut"],this.animEffectsIn=["moveUpIn","moveDownIn","slideUpIn","slideDownIn","slideLeftIn","slideRightIn"],this.items=this.el.querySelector("ol.slides").children,this.itemsCount=this.items.length,this.itemsCount&&(this.current=0,this.options=f({},this.options),f(this.options,b),this._init())}Modernizr.addTest("csstransformspreserve3d",function(){var d,b=Modernizr.prefixed("transformStyle"),c="preserve-3d";return!!b&&(b=b.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+b+":"+c+";}",function(c,e){d=a.getComputedStyle?getComputedStyle(c,null).getPropertyValue(b):""}),d===c)});var b={animations:Modernizr.cssanimations,preserve3d:Modernizr.csstransformspreserve3d,transforms3d:Modernizr.csstransforms3d},c=b.animations&&b.preserve3d&&b.transforms3d,d={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=d[Modernizr.prefixed("animation")];g.prototype.options={},g.prototype._init=function(){this._addNavigation(),this._initEvents()},g.prototype._addNavigation=function(){this.nav=document.createElement("nav");for(var a="",b=0;b<this.itemsCount;++b)a+=0===b?'<span class="current"></span>':"<span></span>";this.nav.innerHTML=a,this.el.appendChild(this.nav),this.navDots=[].slice.call(this.nav.children)},g.prototype._initEvents=function(){var a=this;this.navDots.forEach(function(b,c){b.addEventListener("click",function(){c!==a.current&&a._showItem(c)})})},g.prototype._showItem=function(a){if(this.isAnimating)return!1;this.isAnimating=!0,classie.removeClass(this.navDots[this.current],"current");var b=this,d=this.items[this.current];this.current=a;var f=this.items[this.current],g=this.animEffectsOut[Math.floor(Math.random()*this.animEffectsOut.length)],h=this.animEffectsIn[Math.floor(Math.random()*this.animEffectsOut.length)];d.setAttribute("data-effect-out",g),f.setAttribute("data-effect-in",h),classie.addClass(this.navDots[this.current],"current");var i=0,j=d.querySelector(".tiltview").children.length,k=f.querySelector(".tiltview").children.length,l=0,m=0,n=function(){++i,2===i&&(b.isAnimating=!1)},o=function(){++l;var a=function(){classie.removeClass(d,"hide"),classie.removeClass(d,"current"),n()};c?l===j&&(d.removeEventListener(e,o),a()):a()},p=function(){++m;var a=function(){classie.removeClass(f,"show"),classie.addClass(f,"current"),n()};c?m===k&&(f.removeEventListener(e,p),a()):a()};classie.addClass(d,"hide"),classie.addClass(f,"show"),c?(d.addEventListener(e,o),f.addEventListener(e,p)):(o(),p())},a.TiltSlider=g}(window);